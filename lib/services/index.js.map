{"version":3,"sources":["../../src/services/index.js"],"names":["module","exports","app","servicesPath","join","__dirname","modelsPath","createService","configureService","getService"],"mappings":";;AAAA;;;;;;AAEAA,OAAOC,OAAP,GAAiB,YAAY;AAC3B,MAAMC,MAAM,IAAZ;AACA,MAAMC,eAAe,eAAKC,IAAL,CAAUC,SAAV,EAAqB,IAArB,EAA2B,UAA3B,CAArB;AACA,MAAMC,aAAa,eAAKF,IAAL,CAAUC,SAAV,EAAqB,IAArB,EAA2B,QAA3B,CAAnB;;AAEA;AACAH,MAAIK,aAAJ,CAAkB,WAAlB,EAA+B,EAAEJ,0BAAF,EAA/B;AACAD,MAAIK,aAAJ,CAAkB,eAAlB,EAAmC,EAAED,sBAAF,EAAcH,0BAAd,EAAnC;AACAD,MAAIK,aAAJ,CAAkB,gBAAlB,EAAoC,EAAEJ,0BAAF,EAApC;AACA;AACAD,MAAIM,gBAAJ,CAAqB,OAArB,EAA8BN,IAAIO,UAAJ,CAAe,OAAf,CAA9B,EAAuDN,YAAvD;AACD,CAXD","file":"index.js","sourcesContent":["import path from 'path'\r\n\r\nmodule.exports = function () {\r\n  const app = this\r\n  const servicesPath = path.join(__dirname, '..', 'services')\r\n  const modelsPath = path.join(__dirname, '..', 'models')\r\n\r\n  // Create services to manage MongoDB databases, organisations, authorisations, etc.\r\n  app.createService('databases', { servicesPath })\r\n  app.createService('organisations', { modelsPath, servicesPath })\r\n  app.createService('authorisations', { servicesPath })\r\n  // Add hook to automatically creates a new organisation when creating a new user\r\n  app.configureService('users', app.getService('users'), servicesPath)\r\n}\r\n"]}