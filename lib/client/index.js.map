{"version":3,"sources":["../../src/client/index.js"],"names":["init","mixins","$on","user","organisations","length","set","debug"],"mappings":";;;;;;;;;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;kBAGwBA,I;;AAVxB;;;;AACA;;AACA;;;;;;;;;;AAEA;AACA;AACA;QAEYC,M;AAEG,SAASD,IAAT,GAAiB;AAC9B;;AAEA,iBAAOE,GAAP,CAAW,cAAX,EAA2B,gBAAQ;AACjC,QAAIC,KAAKC,aAAL,IAAsBD,KAAKC,aAAL,CAAmBC,MAAnB,GAA4B,CAAtD,EAAyD;AACvD,oBAAMC,GAAN,CAAU,cAAV,EAA0BH,KAAKC,aAAL,CAAmB,CAAnB,CAA1B;AACD,KAFD,MAEO;AACL,yBAAOG,KAAP,CAAa,qBAAb;AACD;AACF,GAND;;AAQA,qBAAOA,KAAP,CAAa,0BAAb;AACD","file":"index.js","sourcesContent":["import logger from 'loglevel'\r\nimport { Events } from 'quasar'\r\nimport { Store } from 'kCore/client'\r\n\r\n// We faced a bug in babel so that transform-runtime with export * from 'x' generates import statements in transpiled code\r\n// Tracked here : https://github.com/babel/babel/issues/2877\r\n// We tested the workaround given here https://github.com/babel/babel/issues/2877#issuecomment-270700000 with success so far\r\nexport * from '../permissions'\r\nexport * as mixins from './mixins'\r\n\r\nexport default function init () {\r\n  // const app = this\r\n\r\n  Events.$on('user-changed', user => {\r\n    if (user.organisations && user.organisations.length > 0) {\r\n      Store.set('organisation', user.organisations[0])\r\n    } else {\r\n      logger.debug('empty organisations')\r\n    }\r\n  })\r\n\r\n  logger.debug('Initializing kaelia team')\r\n}\r\n"]}